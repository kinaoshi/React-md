### Usersã®å­ãƒšãƒ¼ã‚¸ã«"æŠ•ç¨¿"ã¨"ã‚³ãƒ¡ãƒ³ãƒˆ"ã‚’è¿½åŠ ã™ã‚‹
#### æŠ•ç¨¿ã‚’è¿½åŠ 
> User/index.jsxã®ãƒšãƒ¼ã‚¸ã®
```js
<div>
    <h1>{data.name}</h1>
     <ul>
      <li>{data.id}</li>
            <li>{data.email}</li>
      <li>{data.username}</li>
        <li>{data.phone}</li>
      <li>{data.website}</li>
      <li>{data.company.name}</li>
    </ul>
</div>
```
>  ã‚’
```js
<div>
    <h1>{data.name}</h1>
    <h2>è©³ç´°</h2>
     <ul>
      <li>{data.id}</li>
            <li>{data.email}</li>
      <li>{data.username}</li>
        <li>{data.phone}</li>
      <li>{data.website}</li>
      <li>{data.company.name}</li>
    </ul>
  <h2>æŠ•ç¨¿</h2>
  <h2>ã‚³ãƒ¡ãƒ³ãƒˆ</h2>
</div>
```
> ã¨ã™ã‚‹
- Postsãƒ•ã‚©ãƒ«ãƒ€ã«PostsByUserId.jsxã‚’è¿½åŠ 
- - ãã“ã«Posts/index.jsxã‚’å…¨ã¦ã‚³ãƒ”ãƒ¼ã—ã¦è²¼ã‚Šä»˜ã‘ã‚‹
- - export const Posts = () => {éƒ¨åˆ†ã‚’
- - export const PostsByUserId = () => {ã«å¤‰æ›´
> PostsByUserId.jsxã®usePosts();ã‹ã‚‰å‘¼ã³å‡ºã—å…ƒã«é£›ã¶
- useFetchArray.jsxã«é£›ã‚“ã§ãã‚‹ã®ã§ã€ã“ã“ã®æœ€ä¸‹æ®µã«
```js
export const usePostsByUserId = (id) => {
 return useFetchArray(id? `${API_URL}/posts?userId=${id}`:null);
}
```
> ã‚’è¿½åŠ ã™ã‚‹
- PostsByUserId.jsx ã®
```js
export const PostsByUserId = () => {
  const { data, error, isLoading, isEmpty } = usePosts();
```
> ã®usePosts();ã‚’usePostsByUserId();ã«å¤‰æ›´
> importã‚‚å¤‰æ›´ã—ã¦ãŠã
> å¼•æ•°ã‚’props.idã¨ã—ã¦
```js
export const PostsByUserId = (props) => {
  const { data, error, isLoading, isEmpty } = usePostsByUserId(props.id);
```
> ã¨ã™ã‚‹
- ã“ã‚Œã‚’User/index.jsxã§å‘¼ã³å‡ºã™
```js
<h2>æŠ•ç¨¿</h2>
<PostsByUserId id={data.id}/>
```
---
> ã“ã“ã¾ã§ã‚’ã‚³ãƒŸãƒƒãƒˆ
- âœ¨ ãƒ¦ãƒ¼ã‚¶ãƒ¼ãƒšãƒ¼ã‚¸ã«æŠ•ç¨¿ä¸€è¦§ã‚’è¿½åŠ 
---
#### ã‚³ãƒ¡ãƒ³ãƒˆã‚’è¿½åŠ 
> CommentsByPostId.jsxã‚’ã‚³ãƒ”ãƒ¼
> åŒã˜å ´æ‰€ã«CommentsByUserId.jsxãƒ•ã‚©ãƒ«ãƒ€ã‚’ä½œã‚Šã€è²¼ã‚Šä»˜ã‘ã‚‹
```js
export const CommentsByPostId = (props) => {
```
> ã‚’
```js
export const CommentsByUserId = (props) => {
  const { data, error, isLoading, isEmpty } = useCommentsByPostsId(props.id);
```
> ã«å¤‰æ›´
---
> ã“ã“ã¾ã§ãã¦ã€ã‚³ãƒ¡ãƒ³ãƒˆã®è¿½åŠ ãŒã§ããªã„ã“ã¨ãŒåˆ¤æ˜ã€‚ãã‚‚ãã‚‚å®¿é¡Œã¨ã—ã¦æˆç«‹ã—ã¦ã„ãªã‹ã£ãŸã‚‰ã—ã„ã€‚
> ä»Šä½œã£ãŸCommentsByUserId.jsxãƒ•ã‚©ãƒ«ãƒ€ã‚’å‰Šé™¤
```js
export const CommentsByUserId = (props) => {
  const { data, error, isLoading, isEmpty } = useCommentsByPostsId(props.id);
```
> ã®éƒ¨åˆ†ã‚‚å‰Šé™¤
> User/index.jsxã®ï¼œh2ï¼ã‚³ãƒ¡ãƒ³ãƒˆï¼œ/h2ï¼ã‚‚å‰Šé™¤
- ã‚³ãƒŸãƒƒãƒˆ
- ğŸ”¥ ä¸è¦ã«ãªã£ãŸã‚³ãƒ¼ãƒ‰ã‚’å‰Šé™¤
---
### Commentsã®å…ƒã®è¨˜äº‹ã‚’å–å¾—ã—ã¦è¡¨ç¤ºã™ã‚‹
> Comment/index.jsxã« Userã¨åŒã˜ã‚ˆã†ã«ï¼œh2ï¼å…ƒã®è¨˜äº‹ï¼œ/h2ï¼ã‚’è¿½åŠ 
- Postãƒ•ã‚©ãƒ«ãƒ€ã«PostByCommentId.jsxã‚’ä½œæˆã—ã€Post/index.jsxã‚’ã‚³ãƒ”ãƒ¼ã—ã¦è²¼ã‚Šä»˜ã‘ã‚‹
> export const Post = () => {ã‚’
> export const PostByCommentId = () => {ã«å¤‰æ›´
- hooksã«usePostByCommentId.jsxã‚’ä½œæˆã—ã¦usePost.jsxã‚’å…¨ã‚³ãƒ”ãƒ¼ã—ã¦è²¼ã‚Šä»˜ã‘
---
> usePostByCommentId.jsxã‚’ä½œã£ãŸãŒã€usePost.jsxã‚’åˆ©ç”¨ã—ã¦ã€å…ƒã®è¨˜äº‹ãŒå–å¾—ã§ãã‚‹ã®ã§ãã®æ–¹æ³•ã§ã‚„ã‚‹ã®ã§ä»Šä½œã£ãŸã°ã‹ã‚Šã®usePostByCommentId.jsxã¯å‰Šé™¤ã™ã‚‹
- hooks/usePost.jsxå†…ã®
- - export const usePost = () => {ã®éƒ¨åˆ†ã‚’
- - export const usePost = (props) => {ã¨ã—ã¦
> æœ€çµ‚çš„ã«
```js
import useSWR from "swr";
export const usePost = (id) => {
  const { data, error } = useSWR(
    id
      ? `https://jsonplaceholder.typicode.com/posts/${id}`
      : null
  );
  return {
    data,
    error,
    isLoading: !data && !error,
  };
};
```
> ã¨ãªã‚‹ã€‚
> usePostã‚’å‘¼ã³å‡ºã—ã¦ã„ã‚‹ã¨ã“ã‚ã‚’å¤‰æ›´ã™ã‚‹å¿…è¦ãŒã‚ã‚‹ã®ã§ã€
> Post/index.jsxã§
- const {data, error, isLoading } = usePost();ã‚’
- const {data, error, isLoading } = usePost(router.query.id);ã«å¤‰æ›´
---
> ã‚³ãƒŸãƒƒãƒˆ
- ğŸ¨ æŠ•ç¨¿å–å¾—ã¾ã‚ã‚Šã®ã‚¢ãƒ¼ã‚­ãƒ†ã‚¯ãƒãƒ£ãŒå°‘ã—å¤‰æ›´
---
> ã“ã“ã¾ã§ã§ã€hooks/usePost.jsxã®usePostãŒæ±ç”¨çš„ã«ä½¿ãˆã‚‹ã‚ˆã†ã«ãªã£ãŸã®ã§ã“ã‚Œã‚’Posts/PostsByUserId.jsxã§ä½¿ãˆã°OK
> export const PostByCommentId = () => {
const {data, error, isLoading } = usePost();ã®éƒ¨åˆ†ã‚’
- export const PostByCommentId = (props) => {
- const {data, error, isLoading } = usePost(props.id)
> ã¨ã™ã‚‹
- ã“ã‚Œã‚’comment/index.jsxã§å‘¼ã³å‡ºã™
```js
<h2>å…ƒã®è¨˜äº‹</h2>
<PostByCommentId id={data.postId}/>
```
> ã¨è¨˜è¼‰ã™ã‚‹ã€‚è¨˜äº‹ãŒã ã¶ã£ã¦ã„ã‚‹ã®ã§
- Post/PostByCommentId.jsxã®
```js
  <Head>
        <title>{data?.title}</title>
  </Head>
  <p>{data?.body}</p>
  <UserByUserId id={data.userId} />      <CommentsByPostId id={data.id} />
  <div></div>
```
> ã¯å‰Šé™¤ã™ã‚‹
#### å…ƒã®è¨˜äº‹ã«é£›ã¹ã‚‹ã‚ˆã†ã«ã™ã‚‹
> return <p>{data?.title}</p>;ã®éƒ¨åˆ†ã‚’
```js
return (
    <Link href={`/posts/${data?.id}`}>
      <a>{data?.title}</a>
    </Link>
    );
```
> ã¨ã™ã‚‹ã“ã¨ã§ã€å…ƒã®è¨˜äº‹ä¸€è¦§ã«é£›ã¹ã‚‹ã‚ˆã†ã«ãªã£ãŸ
---
> ã‚³ãƒŸãƒƒãƒˆ
- âœ¨ ã‚³ãƒ¡ãƒ³ãƒˆãƒšãƒ¼ã‚¸ã§å…ƒã®æŠ•ç¨¿ã‚’è¡¨ç¤º
---
> ãƒªãƒ•ã‚¡ã‚¯ã‚¿ãƒªãƒ³ã‚°
- useFetchArray
- useCommentsByPostsIdã‚’useCommentsByPostIdã«å¤‰æ›´
- - comments/CommentsByPostId.jsxå†…ã‚‚åŒã˜ã‚ˆã†ã«å¤‰æ›´
```js
//  users

 export const useUsers = () => {
   return useFetchArray(`${API_URL}/users`);
 };

//  comments

export const useComments = () => {
  return useFetchArray(`${API_URL}/comments`);
};


export const useCommentsByPostId = (id) => {
 return useFetchArray(id? `${API_URL}/comments?postId=${id}`:null);
}
```
- ğŸšš è‹±èªã®é–“é•ã„ä¿®æ­£ã€è¤‡æ•°å½¢ã‚’å˜æ•°å½¢ã«
---



